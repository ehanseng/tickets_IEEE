{% extends "base.html" %}

{% block title %}Dashboard - Sistema de Tickets{% endblock %}

{% block content %}
<div class="card">
    <h2>ðŸ“Š Dashboard</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 30px;">
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; border-radius: 10px; color: white;">
            <h3 style="margin-bottom: 10px; font-size: 36px;">{{ stats.total_users }}</h3>
            <p style="font-size: 18px;">Usuarios Registrados</p>
        </div>
        <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 30px; border-radius: 10px; color: white;">
            <h3 style="margin-bottom: 10px; font-size: 36px;">{{ stats.total_events }}</h3>
            <p style="font-size: 18px;">Eventos Creados</p>
        </div>
        <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 30px; border-radius: 10px; color: white;">
            <h3 style="margin-bottom: 10px; font-size: 36px;">{{ stats.total_tickets }}</h3>
            <p style="font-size: 18px;">Tickets Generados</p>
        </div>
        <div style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); padding: 30px; border-radius: 10px; color: white;">
            <h3 style="margin-bottom: 10px; font-size: 36px;">{{ stats.tickets_used }}</h3>
            <p style="font-size: 18px;">Tickets Usados</p>
        </div>
    </div>
</div>

<div class="card">
    <h2>ðŸŽ‰ Eventos Activos</h2>
    {% if active_events %}
    <table>
        <thead>
            <tr>
                <th>Nombre</th>
                <th>UbicaciÃ³n</th>
                <th>Fecha</th>
                <th>Tickets</th>
            </tr>
        </thead>
        <tbody>
            {% for event in active_events %}
            <tr>
                <td>{{ event.name }}</td>
                <td>{{ event.location }}</td>
                <td>{{ event.event_date.strftime('%d/%m/%Y %H:%M') }}</td>
                <td><span class="badge badge-success">{{ event.ticket_count }} tickets</span></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="margin-top: 20px; color: #666;">No hay eventos activos</p>
    {% endif %}
</div>

<div class="card">
    <h2>ðŸš€ Acciones RÃ¡pidas</h2>
    <div style="display: flex; gap: 15px; margin-top: 20px;">
        <a href="/admin/users" class="btn btn-primary">âž• Registrar Usuario</a>
        <a href="/admin/events" class="btn btn-primary">ðŸ“… Crear Evento</a>
        <a href="/admin/tickets" class="btn btn-success">ðŸŽ« Generar Ticket</a>
        <a href="/admin/validate" class="btn btn-danger">âœ… Validar Entrada</a>
    </div>
</div>
{% endblock %}
